<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JanSetu GeoMint | MCD HR Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=Montserrat:wght@700;900&display=swap" rel="stylesheet">

<style>
:root{
    --blue:#2563EB;
    --blue-dark:#1E40AF;
}
body{
    font-family:Inter,sans-serif;
    background:linear-gradient(135deg,#F8FAFF,#EEF2FF);
}
.card{
    background:rgba(255,255,255,.9);
    backdrop-filter:blur(14px);
    border-radius:22px;
    padding:1.5rem;
    box-shadow:0 25px 50px rgba(30,64,175,.15);
}
.nav-item{
    color:#CBD5F5;
    transition:.3s;
}
.nav-item:hover{
    background:rgba(255,255,255,.15);
    transform:translateX(4px);
}
.nav-active{
    background:rgba(255,255,255,.25);
    color:white;
    border-left:4px solid white;
}
.badge{
    padding:.25rem .75rem;
    border-radius:999px;
    font-size:.75rem;
    font-weight:600;
}
</style>
</head>

<body>

<div class="flex min-h-screen">

<!-- SIDEBAR -->
<aside class="w-72 bg-gradient-to-b from-[var(--blue)] to-[var(--blue-dark)] p-6 fixed inset-y-0">
    <h1 class="text-2xl font-extrabold text-white mb-12 font-montserrat leading-tight">
        JanSetu<br>
        <span class="text-blue-200">GeoMint</span>
    </h1>

    <nav class="space-y-2">
        <div class="nav-item nav-active p-3 rounded-xl cursor-pointer flex items-center" data-page="dashboard">
            <i data-lucide="layout-dashboard" class="w-5 h-5 mr-3"></i> Dashboard
        </div>
        <div class="nav-item p-3 rounded-xl cursor-pointer flex items-center" data-page="employees">
            <i data-lucide="users" class="w-5 h-5 mr-3"></i> Field Employees
        </div>
        <div class="nav-item p-3 rounded-xl cursor-pointer flex items-center" data-page="attendance">
            <i data-lucide="check-circle" class="w-5 h-5 mr-3"></i> Attendance
        </div>
        <div class="nav-item p-3 rounded-xl cursor-pointer flex items-center" data-page="payroll">
            <i data-lucide="wallet" class="w-5 h-5 mr-3"></i> Payroll
        </div>
        <div class="nav-item p-3 rounded-xl cursor-pointer flex items-center" data-page="reports">
            <i data-lucide="bar-chart-3" class="w-5 h-5 mr-3"></i> Reports
        </div>
    </nav>
</aside>

<!-- MAIN -->
<main class="flex-1 ml-72 p-10">

<!-- HEADER -->
<div class="flex justify-between items-center mb-10">
    <h2 id="pageTitle" class="text-4xl font-extrabold text-[var(--blue-dark)] font-montserrat">
        Dashboard
    </h2>
    <div class="flex items-center space-x-4">
        <i data-lucide="bell" class="w-6 h-6 text-blue-600"></i>
        <div class="w-10 h-10 rounded-full bg-blue-200 flex items-center justify-center font-bold text-blue-800">
            HR
        </div>
    </div>
</div>

<div id="contentArea"></div>

</main>
</div>

<script>
lucide.createIcons();

/* ---------------- DASHBOARD ---------------- */
function dashboardPage(){
return `
<div class="grid grid-cols-1 md:grid-cols-4 gap-6">
    <div class="card"><p class="text-gray-500">Verified Check-ins</p><h3 class="text-4xl font-extrabold text-blue-700">312</h3></div>
    <div class="card"><p class="text-gray-500">Out-of-Zone Alerts</p><h3 class="text-4xl font-extrabold text-red-500">6</h3></div>
    <div class="card"><p class="text-gray-500">Active MCD Workers</p><h3 class="text-4xl font-extrabold text-blue-800">128</h3></div>
    <div class="card"><p class="text-gray-500">Trust Index</p><h3 class="text-4xl font-extrabold text-blue-700">92%</h3></div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-10">
    <div class="card lg:col-span-2">
        <h3 class="font-bold mb-4 text-lg">Live Workforce – Pipeline & Drainage Works</h3>
        <div class="h-80 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 
                    flex items-center justify-center text-blue-500 font-semibold">
            Delhi Ward-wise Geo Tracking Map
        </div>
    </div>

    <div class="card flex flex-col">
        <h3 class="font-bold mb-4 text-lg">Attendance Split</h3>
        <div class="flex-1 flex items-center justify-center">
            <div id="pieChart" class="w-full"></div>
        </div>
    </div>
</div>
`;
}

/* ---------------- EMPLOYEES ---------------- */
function employeesPage(){
return `
<div class="card">
<h3 class="text-xl font-bold mb-4">MCD Field Employees</h3>
<table class="w-full text-left border-separate border-spacing-y-3">
<tr class="text-gray-500 text-sm">
<th>Name</th><th>Work Type</th><th>Zone</th><th>Status</th>
</tr>

<tr class="bg-white rounded-xl shadow">
<td class="p-3 font-semibold">Ramesh Kumar</td>
<td class="p-3">Pipeline Repair</td>
<td class="p-3">Karol Bagh</td>
<td class="p-3"><span class="badge bg-green-100 text-green-700">On Site</span></td>
</tr>

<tr class="bg-white rounded-xl shadow">
<td class="p-3 font-semibold">Sunil Verma</td>
<td class="p-3">Drainage Cleaning</td>
<td class="p-3">Rohini</td>
<td class="p-3"><span class="badge bg-green-100 text-green-700">On Site</span></td>
</tr>

<tr class="bg-white rounded-xl shadow">
<td class="p-3 font-semibold">Amit Singh</td>
<td class="p-3">Water Supply Repair</td>
<td class="p-3">Lajpat Nagar</td>
<td class="p-3"><span class="badge bg-yellow-100 text-yellow-700">Break</span></td>
</tr>
</table>
</div>`;
}

/* ---------------- ATTENDANCE ---------------- */
function attendancePage(){
return `
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

<div class="card">
<h3 class="text-xl font-bold mb-4">Today's Attendance – Zone Wise</h3>
<ul class="space-y-3">
<li class="flex justify-between"><span>Karol Bagh</span><span class="font-bold">38 / 40</span></li>
<li class="flex justify-between"><span>Rohini</span><span class="font-bold">42 / 45</span></li>
<li class="flex justify-between"><span>Lajpat Nagar</span><span class="font-bold">31 / 35</span></li>
<li class="flex justify-between"><span>Dwarka</span><span class="font-bold">28 / 30</span></li>
</ul>
</div>

<div class="card">
<h3 class="text-xl font-bold mb-4">AI Attendance Notes</h3>
<ul class="space-y-2 text-gray-700">
<li>• GPS verified check-ins at work sites</li>
<li>• Face verification for attendance</li>
<li>• Auto-flag for out-of-zone movement</li>
<li>• Manual override by supervisors</li>
</ul>
</div>

</div>`;
}

/* ---------------- PAYROLL ---------------- */
function payrollPage(){
return `
<div class="card overflow-x-auto">
<h3 class="text-2xl font-bold mb-6 text-blue-800">Employee Payroll – MCD Workers</h3>

<table class="w-full border-separate border-spacing-y-3">
<thead class="text-gray-500 text-sm">
<tr>
<th>Name</th><th>Work</th><th>Hours</th><th>Rate</th><th>Total</th><th>Status</th>
</tr>
</thead>

<tbody>
<tr class="bg-white shadow rounded-xl">
<td class="p-3 font-semibold">Ramesh Kumar</td>
<td class="p-3">Pipeline Repair</td>
<td class="p-3">48</td>
<td class="p-3">₹450/hr</td>
<td class="p-3 font-bold text-blue-700">₹21,600</td>
<td class="p-3"><span class="badge bg-green-100 text-green-700">Processed</span></td>
</tr>

<tr class="bg-white shadow rounded-xl">
<td class="p-3 font-semibold">Sunil Verma</td>
<td class="p-3">Drainage Cleaning</td>
<td class="p-3">44</td>
<td class="p-3">₹400/hr</td>
<td class="p-3 font-bold text-blue-700">₹17,600</td>
<td class="p-3"><span class="badge bg-yellow-100 text-yellow-700">Pending</span></td>
</tr>

<tr class="bg-white shadow rounded-xl">
<td class="p-3 font-semibold">Amit Singh</td>
<td class="p-3">Water Supply Repair</td>
<td class="p-3">50</td>
<td class="p-3">₹500/hr</td>
<td class="p-3 font-bold text-blue-700">₹25,000</td>
<td class="p-3"><span class="badge bg-green-100 text-green-700">Processed</span></td>
</tr>
</tbody>
</table>
</div>`;
}

/* ---------------- REPORTS ---------------- */
function reportsPage(){
return `
<div class="card">
<h3 class="text-xl font-bold mb-3">MCD Operational Reports</h3>
<ul class="space-y-2 text-gray-700">
<li>• Ward-wise attendance report</li>
<li>• Pipeline repair duration analysis</li>
<li>• Payroll & overtime summary</li>
<li>• Geo-verified work completion logs</li>
</ul>
</div>`;
}

/* ---------------- ROUTER ---------------- */
const pages={dashboard:dashboardPage,employees:employeesPage,attendance:attendancePage,payroll:payrollPage,reports:reportsPage};
const content=document.getElementById("contentArea");
const title=document.getElementById("pageTitle");

function loadPage(page){
document.querySelectorAll(".nav-item").forEach(n=>{
n.classList.remove("nav-active");
if(n.dataset.page===page) n.classList.add("nav-active");
});
title.innerText=page.charAt(0).toUpperCase()+page.slice(1);
content.innerHTML=pages[page]();

if(page==="dashboard"){
new ApexCharts(document.querySelector("#pieChart"),{
chart:{type:"pie",height:260},
series:[80,7,13],
labels:["Verified","Out-of-Zone","Manual Review"],
colors:["#2563EB","#EF4444","#F59E0B"],
legend:{position:"bottom"}
}).render();
}
}

document.querySelectorAll(".nav-item").forEach(i=>{
i.addEventListener("click",()=>loadPage(i.dataset.page));
});

loadPage("dashboard");
</script>

</body>
</html>
